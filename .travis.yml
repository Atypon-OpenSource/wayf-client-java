language: java
jdk:
  - oraclejdk8

env:
  global:
    - secure: "z+WYQEUTK7npVuAU7E89zkJl2EfDIeinxVNzob23ZVCnmEHHrfEYJ7Dsu+gOSLPeWEFmOUcgvLLSddEnIkjC8Aj13zlwOU2rnP8hnAJL16DMKaVRiuYuLCETrUXA1/6dz9TZWdcxGQtTGHWM5qVQLFe5uYUJTYn4FteNtSj2NF6eUsfKoR0xfNo2x3BHyFImRdelwwODIlvkC3oqIdo9YkbJInWHf34hi+xvBHA8IZ/DJBxF95Lz2iRm4BV7qpR0sNkzjGaOkoU31xqkpP5CgwO+wQP8zn9DsGlS4bwS4SO5gvtT1XUl5jSSuZLklKzBokqPvSCwDTjbh6IVJNx6vhGoMPCIMbCh+BA8tyUcsvA5XCAmKD70iRjQsY0iRRmAUxVuC7XrQNnOME0Q7AaTgvZ/X6K2pCMFo2j2Ii7ECZLaNjgnX25t0v5EvgbDDsBpdoYdrBFJGe7GL3g0cZgR9TUY4HLca1WlmXLNUaJKwifcwENsjYLLwJENgfn00aj/xc/G70YjXBrCeHKARxhy60uVs9xsNkv7LG7C8cdvLdiIwezggQ4SwwEm0myNZR5PRL/rSjVDwKJ+kyjJDzG6LYW4hT2tL0afPgDnhVmjBh+ljCu/mbSLN8Q5yJQSkhMzzHscLl/9COIw1WyQP6gpDCU+5Y3mKDZgny7Ksxi7qC8="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "joyPYlqpd+rhRaVTaWqr4rP2J1W6a+BGsA03+5t8VUOBqS93rSAZHmDd1eLsZ7rJdL1ltz3CjMQkVm5wtQAaRkvfb/tYgxAmn2w+B+xbTKmb1OJyuV8/xd9DIhbm97sTqYVzYsVY6XYu0iEQT8sOXM85loohsvzjEFgRksTYEy9ArPsH9CfzFwxNd8m4bOh+ZT/sP/Sz3fa4Tgmo6qAOaNfnF5U0c8eI3iK4ZMkQMuWhUyYD8bwUkil9qlhcmcjxjbbV9jpAa/X1O1U0AI23RkK7ll9QCaR2HfYRqs5TpTT1bRcj75RRtZzasBd6Fy6EmylrTRvhF3/fQWqqQ9nmfRUXpL986iGroiAiNXXDTMgcfrAddCFZfyKDV8bqfwRMiT5Ql6urFJJ96Pl7xlvuW3mB+t2eXydHXareHIJnyBAAWOfgAl5E6I3XhuX8kh5Fqt9uxgA+U2p7Lrb1Kw8fSrdW+wDjDm2lGQk3vRbD8ApT6/3EUph2wgMUrUZ02Ul9ePQCdlbpM4gQPJnv9cNzN8xobcyHIDm6drNSoe2bSNvzF5scGS3uNuse1ihONg48E8ffJBRm9v978oRbRLPhCKjeKz1OT3DsHGQXm9SPObQkW4k5ZgEbFLkLiRFkD79SMt5zImRcrhg5Pl004SxIKwRi9nzWs5EsHwyQDFABoh0="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "NjsGFg75JcCuqCHCZTcBaDfzLwcpco84w94sCld8laYWX56xftK0wlB1iu+kcBU3AosOWcmU9WXdkgrpoMPOPPdYz90575IYLkNrJmqU9GMlldnRX2jG6kG0QaTsjkNNyZ3/Ym76AtpcaYE/Cbih9ugrSkGlp3zeq1v0XZMKJtFuCPEnK9bwVWJ4d6tIkj5PYSlDDH5VzqNmQyCCCdhz+gIzXIRkla45oNvz/Z1eKeVQxpM7jFt+UmURSqL6LtkkE/3BuEiQFWMRUoGs++OuVIt31lP7ULYPxeJnEmnDJ/kflW189HgJaeqRuzTiGwigBSTFDqn3MZvAlQFZGtQufciRBCe4BWDPbnk7gxibBWMb7kuYKUgXVUqyd/0k7LVEg9eOTHqrogBkUbGnbnb1WDQp6V0sJcYlZ8MIFqh3lXXfqru7vE53YffgqewhZ+GCFXkR6+2viCtP4WLz2lKAsI2nf8gCCLthVMWIHNN8dTfKwVxOQpcDEWnROYWAPHCT+d1RfbtrYl4MZ3M+7LvI1HvokJ/Dtx2aEyB6LprNe6Gk5Tifk7yJrvMqPLUhYVNldoEV2GSSrDXA7Agj2JjUzh4ZWxZ+F9oCdobEo1eTKEu6vJJyZDr8ZrtKS2+iCNUQBrOyGyWsJIWjruncEJtgSST9kRjOoOZd1UAx27K/XCA="
    - # ^^ GPG_KEY_NAME
    - secure: "JYewXzITj4Plzz5+2bQoP139u5K1458GSvljKnr9MQRHDW8cdK0JM6ED72+/ESahc9SKyMs9J58bKGWktY0VnlykZs3oClHR/urAowJF5Si9MPUsDIxRTVUZ5Nq34CmiEYb3rlr6rYfJi/kdm4pg2SwGT26+3cva0qthp/YdkUmC0LuqB+bPr6i7/HEkPO9SdUr4Hi06Tcq57KTU2bkgfn2X+lrI9Xa1tZlh6eqG0wjsyEykdMSzqNWfYT0jMNg2wXDYAdiqjVhMz42ySZ+cwO5/Pg8ZGrIzFaVSjRhfyxRWfsIgcpYtXpInGG1oDhIKypyTS2yh83osa4WUaHzm4BfyMxyerdHGXfklK5tX1X13vAd8rbzlGGaqMjzpsWCHTPDEYIyMl7IBbPpeIFpCkYHs5hyaNOWaWIOvT7HDQE49Nj+EoP0XRIwrB2OnFG+Awz/KXDTVqxMkENbI3BB5TvuffmXm02dxvwzVodpO950dEXwuMMV7ioqZxaA8uKZUjdeS0BQzZEELi3NN671rqAW8tHLHiwo3+Yk8qHqYZ16xD5COUTOLKQOHG+ELpE8hYu7c9EC40TlSrEKVewGFkvJ+eqSPrcvNf3IZ9x5zGLfuBoxBhEkrfFVZaItCc+9Tck4VAHCNf6EXdFfok7sCDVoY4pwZz04o5cKOH4DdKNg="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh